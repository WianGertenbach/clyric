{% extends "base.html" %}

{% block title %}{{ 'Edit Song' if song_id else 'New Song' }}{% endblock %}

{% block content %}
<div class="container" style="margin-top: 50px;">  <h1>{{ 'Edit Song' if song_id else 'Create New Song' }}</h1> </div>

<section class="page container">
  <section>
    
  <form method="POST" action="" class="metadata">
    <div class="song-data title-artist">
      <input type="text" name="title" id="title" required placeholder="Song Title">

      <input type="text" name="artist" id="artist" placeholder="Original Artist / Composer / Band">
    </div>

    <div class="song-data tempo-key">
      <input type="text" name="key" id="key" placeholder="Key" oninput="resizeInput(this)" style="width: 4ch;">

      <p>|</p>

      <input type="text" name="tempo" id="tempo" min="0" placeholder="Tempo (bpm)" oninput="resizeInput(this)" style="width: 12ch;">

      <p>|</p>

      <input type="text" name="time_signature" id="time_signature" placeholder="Time signature" oninput="resizeInput(this)" style="max-width:12ch;">
      
      <p>|</p>

    </div>
  </form>

</section>

<section class="song-content">
<div class="top-wrapper" id="song-container">
  <!-- Context Menus -->
      <div id="contextmenu" class="contextmenu">
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="copy">Copy</a>
        </div>
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="move">Move to Section</a>
        </div>
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="add-chord">Add Chord</a>
        </div>
      </div>
      <div id="section-contextmenu" class="contextmenu">
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="add">Add New Section</a>
        </div>
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="duplicate">Duplicate</a>
        </div>
        <div class="contextmenu__item">
          <a href="#" class="menu-links" data-action="delete">Delete</a>
        </div>
      </div>


<div class="second-wrapper" data-section-id="section-template">
  <div class="column-wrapper">
    <div class="lyrics-wrapper">
      <form action="" class="song-section">
        <input name="song_section" class="song-section-name" placeholder="Section">
        <div class="lyrics-container">
          <textarea name="lyrics" class="lyrics" placeholder="Type/paste your lyrics here"></textarea>
          <div class="chord-display"></div>
        </div>
        <input type="hidden" name="chords" class="chords-data">
      </form>
    </div>
    <div class="notes-wrapper">
      <form action="" class="notes-area">
        <textarea name="notes" class="notes" placeholder="Add section notes here"></textarea>
      </form>
    </div>
    <div class="section-options">
      <button class="tripple-dot-menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-three-dots section-menu" viewBox="0 0 16 16">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/>
        </svg>
      </button>
      <button class="drag-handle">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
          <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
        </svg>
      </button>
    </div>
  </div>
</div>

</div>
</section>
</section>


<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
